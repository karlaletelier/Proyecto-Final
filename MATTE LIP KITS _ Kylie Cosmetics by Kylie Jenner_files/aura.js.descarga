!function(e){function t(t){for(var r,o,i=t[0],a=t[1],u=0,c=[];u<i.length;u++)o=i[u],n[o]&&c.push(n[o][0]),n[o]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);for(s&&s(t);c.length;)c.shift()()}var r={},n={0:0};function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],r=n[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise(function(t,o){r=n[e]=[t,o]});t.push(r[2]=i);var a,u=document.getElementsByTagName("head")[0],s=document.createElement("script");s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.src=function(e){return o.p+"aura-"+({1:"main",2:"lang-br-json",3:"lang-de-json",4:"lang-en-json",5:"lang-es-json",6:"lang-fi-json",7:"lang-fr-json",8:"lang-it-json",9:"lang-ja-json",10:"lang-nl-json",11:"lang-pt-json",12:"lang-ru-json",13:"lang-se-json",14:"vendors~main"}[e]||e)+"-"+{1:"3509e66",2:"6239cc4",3:"4a249b2",4:"f269267",5:"4b768ea",6:"6c46669",7:"4d80058",8:"95ec45d",9:"f31bdb2",10:"b99700e",11:"80a358d",12:"913dbfa",13:"45be22a",14:"ae8e237"}[e]+".js"}(e),0!==s.src.indexOf(window.location.origin+"/")&&(s.crossOrigin="anonymous"),a=function(t){s.onerror=s.onload=null,clearTimeout(c);var r=n[e];if(0!==r){if(r){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+o+": "+i+")");a.type=o,a.request=i,r[1](a)}n[e]=void 0}};var c=setTimeout(function(){a({type:"timeout",target:s})},12e4);s.onerror=s.onload=a,u.appendChild(s)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="https://d2r7uc8e08s26x.cloudfront.net/",o.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],a=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var s=a;o(o.s=8)}([function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.setLogLevel=function(e){o=e},t.getLogLevel=function(){return o},t.default=void 0;let o="error";const i=["debug","info","warn","error"],a={debug:i,info:["info","warn","error"],warn:["warn","error"],error:["error"]};var u=i.reduce((e,t)=>(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){n(e,t,r[t])})}return e})({},e,{[t]:(...e)=>{if(a[o||"error"].includes(t)){let r;e.length>1&&"object"==typeof e[e.length-1]&&(r=e.pop()),r?(window.console.groupCollapsed("%cAura •","color: green; font-weight: bold",...e),Object.keys(r).forEach(e=>{window.console[t](e,r[e])}),window.console.groupEnd()):window.console[t]("%cAura •","color: green; font-weight: bold",...e)}}}),{});t.default=u},function(e,t,r){"use strict";var n=r(13),o=r(14),i=r(15);function a(e){return c(e)}function u(e,t,r){var n=e+"="+t+";";(r=r||{}).expires&&(n+="Expires="+new Date(r.expires).toUTCString()+";"),r.path&&(n+="Path="+r.path+";"),r.domain&&(n+="Domain="+r.domain+";"),document.cookie=n}function s(e){var t=e.indexOf("=");return t<0?[e,""]:[e.substring(0,t),e.substring(t+1)]}function c(e){var t,r=document.cookie,n=[];if(!r)return n;for(var o=r.split(";"),a=0;a<o.length;a++){t=s(o[a]);var u=i(t[0]);e&&u!==e||n.push({name:u,value:i(t[1])})}return n}function f(e,t){var r=c().length;return(t=t||{}).expires=new Date(1),u(e,"",t),c().length!==r}e.exports={get:a,set:u,cookies:c,clear:f,clearAll:function(e){var t=[],r=o(window.location.pathname),i=n(window.location.hostname);if(f(e))return[{path:null,domain:null}];for(var a=0;a<i.length;a++)for(var u=0;u<r.length;u++)f(e,{path:r[u],domain:i[a]})&&t.push({domain:i[a],path:r[u]});return t},val:function(e){var t=a(e);return t.length?t[0].value:null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_DEVICES=t.AURA_COOKIE=t.DEVELOPMENT_FLAG=t.PRODUCTION_FLAG=t.STAGING_FLAG=t.LOG_FLAG=t.PREVIEW_FLAG_SHORT=t.FORGET_FLAG=t.PERSIST_FLAG=t.PREVIEW_FLAG=t.CODE_ENV_PARAM=t.API_ENV_PARAM=t.BRANCH_PARAM=t.AB_PARAM=t.OPTS_PARAM=t.IFRAME_ID=void 0,t.IFRAME_ID="QubitAura",t.OPTS_PARAM="aura_opts",t.AB_PARAM="aura_ab",t.BRANCH_PARAM="aura_branch",t.API_ENV_PARAM="aura_api_env",t.CODE_ENV_PARAM="aura_code_env",t.PREVIEW_FLAG="preview",t.PERSIST_FLAG="persist",t.FORGET_FLAG="forget",t.PREVIEW_FLAG_SHORT="aura",t.LOG_FLAG="log",t.STAGING_FLAG="staging",t.PRODUCTION_FLAG="production",t.DEVELOPMENT_FLAG="development",t.AURA_COOKIE="saved_aura_opts",t.DEFAULT_DEVICES=["desktop","tablet","mobile"]},function(e,t,r){"use strict";e.exports=["protocol","auth","hostname","port","pathname","search","hash"]},function(e,t,r){"use strict";var n;n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}return r.m=e,r.c=t,r.p="",r(0)}([function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.transient=t.repeatedly=t.repeat=t.range=t.dec=t.inc=t.identity=t.constantly=t.zip=t.takeWhile=t.take=t.sort=t.reverse=t.pop=t.peek=t.push=t.isEmpty=t.groupBy=t.drop=t.dropWhile=t.distinct=t.flatten=t.rest=t.first=t.size=t.vals=t.keys=t.merge=t.updateIn=t.update=t.getIn=t.get=t.remove=t.unset=t.setIn=t.set=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1));function o(e){return function(){return e.call.apply(e,arguments)}}t.set=o(n.set),t.setIn=o(n.setIn),t.unset=o(n.unset),t.remove=o(n.remove),t.get=o(n.get),t.getIn=o(n.getIn),t.update=o(n.update),t.updateIn=o(n.updateIn),t.merge=o(n.merge),t.keys=o(n.keys),t.vals=o(n.vals),t.size=o(n.equals),t.first=o(n.first),t.rest=o(n.rest),t.flatten=o(n.flatten),t.distinct=o(n.distinct),t.dropWhile=o(n.dropWhile),t.drop=o(n.drop),t.groupBy=o(n.interpose),t.isEmpty=o(n.isEmpty),t.push=o(n.push),t.peek=o(n.peek),t.pop=o(n.pop),t.reverse=o(n.reverse),t.sort=o(n.sort),t.take=o(n.take),t.takeWhile=o(n.takeWhile),t.zip=o(n.zip);var i=n.constantly,a=n.identity,u=n.inc,s=n.dec,c=n.range,f=n.repeat,l=n.repeatedly,p=n.transient;t.constantly=i,t.identity=a,t.inc=u,t.dec=s,t.range=c,t.repeat=f,t.repeatedly=l,t.transient=p},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.set=function(e,t){if(void 0==this)return function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},e,t);if(this[e]===t)return this;var r=i(this);return r[e]=t,r},t.setIn=a,t.unset=function(e){if(void 0==this)return{};if(!this.hasOwnProperty(e))return this;var t=i(this);return delete t[e],t},t.get=function(e,t){return void 0==this?t:void 0!==this[e]?this[e]:t},t.getIn=u,t.update=function(e,t){var r=i(this),n=r[e];if(void 0==t)r[e]=void 0;else{for(var o=arguments.length,a=Array(o>2?o-2:0),u=2;u<o;u++)a[u-2]=arguments[u];r[e]=t.apply(void 0,[n].concat(a))}return r},t.updateIn=function(e,t){if(!(e instanceof Array))throw new TypeError("updateIn expected first argument to be an Array of keys. Not a "+o(e)+"! "+n+"/updateIn");for(var r=u.call(this,e),i=arguments.length,s=Array(i>2?i-2:0),c=2;c<i;c++)s[c-2]=arguments[c];var f=void 0==t?void 0:t.apply(void 0,[r].concat(s));return a.call(this,e,f)},t.merge=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter(function(e){return e});return Object.assign.apply(Object,[{},this].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(n)))},t.keys=s,t.vals=function(){if(void 0==this)return[];if(this instanceof Array)return this;for(var e=Object.keys(this),t=new Array(e.length),r=0;r<e.length;r++)t[r]=this[e[r]];return t},t.size=c,t.equals=function e(t){if(this===t)return!0;if(r(this)!==(void 0===t?"undefined":r(t)))return!1;if("number"==typeof this)return isNaN(this)&&isNaN(t);if(this instanceof Date&&t instanceof Date)return this.getTime()===t.getTime();if(this instanceof RegExp&&t instanceof RegExp)return this.toString()===t.toString();var n=s.call(this),o=s.call(t);if(n.length!==o.length)return!1;for(var i=0;i<n.length;i++){var a,u=n[i];if(!(a=this[u],e).call(a,t[u]))return!1}return!0},t.isEmpty=function(){return 0===c.call(this)},t.first=function(){if(void 0!=this)return this[0]},t.rest=function(){if(void 0==this)return[];if(!(this instanceof Array))throw new TypeError("rest can only be called on an Array. Not on a "+o(this)+"! "+n+"/rest");return this.slice(1)},t.take=function(e){if(void 0==this)return[];if(!(this instanceof Array))throw new TypeError("take can only be called on an Array. Not on a "+o(this)+"! "+n+"/take");if("number"!=typeof e)throw new TypeError("take expected first argument to be the Number of items to take. Not a "+o(e)+"! "+n+"/take");return this.slice(0,e)},t.takeWhile=function(e){if(void 0==this)return[];if(!(this instanceof Array))throw new TypeError("takeWhile can only be called on an Array. Not on a "+o(this)+"! "+n+"/takeWhile");if("function"!=typeof e)throw new TypeError("takeWhile expected first argument to be a predicate Function. Not a "+o(e)+"! "+n+"/takeWhile");for(var t=0;e(this[t])&&t<this.length;)t+=1;return this.slice(0,t)},t.drop=function(e){if(void 0==this)return[];if(!(this instanceof Array))throw new TypeError("drop can only be called on an Array. Not on a "+o(this)+"! "+n+"/drop");if("number"!=typeof e)throw new TypeError("drop expected first argument to be the Number of items to drop. Not a "+o(e)+"! "+n+"/drop");return this.slice(e)},t.dropWhile=function(e){if(void 0==this)return[];if(!(this instanceof Array))throw new TypeError("dropWhile can only be called on an Array. Not on a "+o(this)+"! "+n+"/dropWhile");if("function"!=typeof e)throw new TypeError("dropWhile expected first argument to be a predicate Function. Not a "+o(e)+"! "+n+"/dropWhile");for(var t=0;e(this[t])&&t<this.length;)t+=1;return this.slice(t)},t.flatten=function(){if(void 0==this)return[];if(!(this instanceof Array))throw new TypeError("flatten can only be called on arrays. Not a "+o(this)+"! "+n+"/flatten");for(var e=[this],t=[];e.length>0;){var r=e.pop();if(r instanceof Array)for(var i=0;i<r.length;i++)e.push(r[i]);else t.unshift(r)}return t},t.distinct=function(){if(void 0==this)return[];if(!(this instanceof Array))throw new TypeError("distinct can only be called on arrays. Not a "+o(this)+"! "+n+"/distinct");for(var e=[],t=0;t<this.length;t++)e.indexOf(this[t])<0&&e.push(this[t]);return e},t.groupBy=function(e){for(var t={},r=0;r<this.length;r++){var n=e(this[r]);t[n]=t[n]||[],t[n].push(this[r])}return t},t.interpose=function(e){for(var t=[],r=0;r<this.length;r++)t.push(this[r],e);return t.slice(0,-1)},t.push=function(){if(!(this instanceof Array))throw new TypeError("push can only be called on arrays. Not a "+o(this)+"! "+n+"/push");for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.concat(t)},t.peek=function(){return this.length?this[this.length-1]:void 0},t.pop=function(){if(void 0!=this){if(!(this instanceof Array))throw new TypeError("pop can only be called on arrays. Not a "+o(this)+"! "+n+"/pop");return this.slice(0,-1)}},t.reverse=function(){if(void 0==this)return[];if(!(this instanceof Array))throw new TypeError("reverse can only be called on arrays. Not a "+o(this)+"! "+n+"/reverse");return i(this).reverse()},t.sort=function(e){if(void 0==this)return[];if(!(this instanceof Array))throw new TypeError("sort can only be called on arrays. Not a "+o(this)+"! "+n+"/sort");return i(this).sort(e)},t.zip=function(e){if(void 0==this||void 0==e)return{};for(var t={},r=0;r<this.length;r++){var n=this[r],o=e[r];void 0!=o&&(t[n]=o)}return t},t.constantly=function(e){return function(){return e}},t.identity=function(e){return e},t.inc=function(e){return e+1},t.dec=function(e){return e-1},t.range=function(e){var t=[];if(e>0)for(var r=0;r<e;r++)t.push(r);else for(var n=0;n>e;n--)t.push(n);return t},t.repeat=function(e,t){if("number"!=typeof e)throw new TypeError("repeat expected first argument to be the Number of times to repeat the value. Not a "+o(e)+"! "+n+"/repeat");var r=[];if(e<0)return[];for(var i=0;i<e;i++)r[i]=t;return r},t.repeatedly=function(e,t){if("number"!=typeof e)throw new TypeError("repeatedly expected first argument to be the Number of times to call the func. Not a "+o(e)+"! "+n+"/repeatedly");var r=[];if(e<0)return[];for(var i=0;i<e;i++)r[i]=t();return r},t.transient=function(e){var t=i(this);return e(t),t};var n="https://zaphod.surge.sh/api";function o(e){return Object.prototype.toString.call(e).slice(8,-1)}function i(e){for(var t=Object.keys(e),r=e instanceof Array?[]:{},n=0;n<t.length;n++){var o=t[n];r[o]=e[o]}return r}function a(e,t){if(!(e instanceof Array))throw new TypeError("setIn expected first argument to be an Array of keys. Not a "+o(e)+"! "+n+"/setIn");if(0===e.length)return this;for(var r=void 0==this?{}:i(this),a=r,u=0;u<e.length-1;){var s=e[u];if(void 0==a[s]){var c=e[u+1];a[s]="number"==typeof c?[]:{}}else a[s]=i(a[s]);a=a[s],u+=1}return a[e[u]]=t,r}function u(e,t){if(!(e instanceof Array))throw new TypeError("getIn expected first argument to be an Array of keys. Not a "+o(e)+"! "+n+"/getIn");if(0===e.length)return t;if(void 0==this)return t;for(var r=this,i=0;i<e.length;){var a=e[i];if(void 0==r[a])return t;r=r[a],i+=1}return r}function s(){return void 0==this?[]:Object.keys(this)}function c(){return this instanceof Array?this.length:"string"==typeof this?this.length:void 0==this?0:s.call(this).length}}])},e.exports=n()},function(e,t,r){"use strict";var n=Function.prototype.toString,o=Object.prototype.hasOwnProperty,i=n.call(o).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),a=RegExp("^"+i+"$"),u=Object.assign,s=Array.prototype.forEach,c=Array.prototype.every,f=Array.prototype.filter,l=Array.prototype.find,p=Array.prototype.indexOf,d=Array.isArray,h=Object.keys,y=Array.prototype.map,v=Array.prototype.reduce,m=Array.prototype.slice,g=Array.prototype.some,b=Object.values;function w(e){return e&&"function"==typeof e&&a.test(function(e){if(!e)return"";try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}(e))}var A={assign:w(u)?u:function(e){for(var t=arguments.length,r=1;r<t;r++){var n=arguments[r];for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e},bind:function(e,t){var r=A.slice(arguments,2);return function(){return e.apply(t,r.concat(A.slice(arguments)))}},debounce:function(e,t,r){var n;return function(){var o=this,i=arguments,a=r&&!n;clearTimeout(n),n=setTimeout(function(){n=null,r||e.apply(o,i)},t),a&&e.apply(o,i)}},each:w(s)?function(e,t,r){return s.call(e,t,r)}:function(e,t,r){for(var n=e.length,o=0;o<n;o++)t.call(r,e[o],o,e)},every:w(c)?function(e,t,r){return c.call(e,t,r)}:function(e,t,r){if(!e||!t)throw new TypeError;for(var n=0;n<e.length;n++)if(!t.call(r,e[n],n,e))return!1;return!0},filter:w(f)?function(e,t,r){return f.call(e,t,r)}:function(e,t,r){for(var n=e.length,o=[],i=0;i<n;i++)t.call(r,e[i],i,e)&&o.push(e[i]);return o},find:w(l)?function(e,t,r){return l.call(e,t,r)}:function(e,t,r){for(var n=e.length,o=0;o<n;o++)if(t.call(r,e[o],o,e))return e[o]},get:function(e,t){return A.reduce(t.split("."),function(e,t){return void 0!==e&&null!==e?e[t]:void 0},e)},identity:function(e){return e},indexOf:w(p)?function(e,t){return p.call(e,t)}:function(e,t){for(var r=e.length,n=0;n<r;n++)if(e[n]===t)return n;return-1},invoke:function(e,t){var r=A.slice(arguments,2);return A.map(e,function(e){return e[t].apply(e,r)})},isArray:w(d)?function(e){return d(e)}:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isMatch:function(e,t){for(var r in t)if(t.hasOwnProperty(r)&&e[r]!==t[r])return!1;return!0},isObject:function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},keys:w(h)?h:function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t},map:w(y)?function(e,t,r){return y.call(e,t,r)}:function(e,t,r){for(var n=e.length,o=new Array(n),i=0;i<n;i++)o[i]=t.call(r,e[i],i,e);return o},matches:function(e){return function(t){return A.isMatch(t,e)}},not:function(e){return!e},objectEach:function(e,t,r){return A.each(A.keys(e),function(n){return t.call(r,e[n],n,e)},r)},objectMap:function(e,t,r){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=t.call(r,e[o],o,e));return n},objectReduce:function(e,t,r){var n=r;for(var o in e)e.hasOwnProperty(o)&&(n=t(n,e[o],o,e));return n},pick:function(e,t){var r={};return A.each(t,function(t){void 0!==e[t]&&(r[t]=e[t])}),r},pluck:function(e,t){for(var r=e.length,n=[],o=0;o<r;o++)e[o]&&(n[o]=e[o][t]);return n},reduce:w(v)?function(e,t,r){return v.call(e,t,r)}:function(e,t,r){for(var n=r,o=e.length,i=0;i<o;i++)n=t(n,e[i],i,e);return n},set:function(e,t,r){if(!e)return e;if("object"!=typeof e&&"function"!=typeof e)return e;var n,o=t.split("."),i=e;do{"object"!=typeof i[n=o.shift()]&&(i[n]={}),o.length?i=i[n]:i[n]=r}while(o.length);return e},slice:w(m)?function(e,t,r){return t=t||0,r="number"==typeof r?r:e.length,m.call(e,t,r)}:function(e,t,r){t=t||0,r="number"==typeof r?r:e.length;var n=null==e?0:e.length;if(!n)return[];t<0&&(t=-t>n?0:n+t),(r=r>n?n:r)<0&&(r+=n),n=t>r?0:r-t>>>0,t>>>=0;for(var o=-1,i=new Array(n);++o<n;)i[o]=e[o+t];return i},some:w(g)?function(e,t,r){return g.call(e,t,r)}:function(e,t,r){if(!e||!t)throw new TypeError;for(var n=0;n<e.length;n++)if(t.call(r,e[n],n,e))return!0;return!1},unique:function(e){return A.reduce(e,function(e,t){return-1===A.indexOf(e,t)&&e.push(t),e},[])},values:w(b)?b:function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t},name:"slapdash",version:"1.3.3"};A.objectMap.asArray=function(e,t,r){return A.map(A.keys(e),function(n){return t.call(r,e[n],n,e)},r)},e.exports=A},function(e,t,r){"use strict";const n=e=>Math.min(5e3,500*Math.pow(2,e-1));e.exports=((e,{maxAttempts:t,retryCondition:r,onAttempt:o,onMaxAttempts:i})=>(...a)=>new Promise((u,s)=>{const c=e=>{setTimeout(()=>f(e),n(e-1))},f=n=>{o(n),e(...a).then(e=>n>=t?s(i()):r(null,e)?c(n+1):void u(e)).catch(e=>n>=t?s(i(e)):r(e)?c(n+1):void s(e))};f(1)})),e.exports.delay=n},function(e,t,r){"use strict";e.exports={parse:r(22),format:r(24)}},function(e,t,r){"use strict";var n,o=(n=r(9))&&n.__esModule?n:{default:n};window.RELEASE_ID="2019-06-24T22:47:41.690@7d58eba[master]";const{context:i,config:a}=window.parent.__qubit.aura;i.containerElement=window.frameElement,i.parent=window.parent,i.poe=i.poe||{error(e){console.error("Aura Error",e)}},window.addEventListener("unhandledrejection",(e,t)=>{i.poe.error(e,{release:window.RELEASE_ID})}),async function(){try{await(0,o.default)(i,a)}catch(e){i.poe.error(e,{release:window.RELEASE_ID})}}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=async function(e,t,c=o.default){const f={maxAttempts:5,retryCondition:(e,t)=>!!e,onAttempt(e){1!==e&&_("parkour.mainScriptRetryAttempted")},onMaxAttempts:()=>(_("parkour.mainScriptLoadFailed"),new Error("Aura script could not load after 5 attempts"))},l=e.parent.location.href,{jolt:p,parent:d}=e,{cookieDomain:h}=t,y=t.aura.modes&&t.aura.modes.demoMode,v=t.aura.modes&&t.aura.modes.previewMode,m=t.aura.customExecution||(()=>{}),g=t.aura.customStyles||(()=>{}),{auraVariationId:b}=t.experience,w=(0,i.default)({url:l,cookieDomain:h,demoMode:y,previewMode:v,auraVariationId:b,parent:d});if(w.logMode&&(0,s.setLogLevel)("debug"),w.branch&&"master"!==w.branch)return s.default.info("Loading aura from branch:",w.branch),(0,a.default)(`https://s3-eu-west-1.amazonaws.com/qubit-parkour/${w.branch}/aura.js`);if("development"===w.codeEnv)return s.default.info("Loading aura from https://aura-widget.local.qubit/aura.js"),(0,a.default)("https://aura-widget.local.qubit/aura.js");if(s.default.info("Checking activations"),!(await c({jolt:p,config:t,modes:w,parent:d})))return;t.experience.activate();const A=t.experience.isVariation||!1===(0,n.getIn)(t.experience,["options","meta","variationIsControl"]);if(w.previewMode||A){s.default.info("Running custom execution");try{m()}catch(e){s.default.error("Aura custom execution failed",e),_("parkour.customExecutionError",{error:e.message})}s.default.info("Injecting custom styles"),g();const n=(0,u.default)(()=>Promise.all([r.e(14),r.e(1)]).then(r.t.bind(null,27,7)),f);s.default.info("Loading Aura script"),_("parkour.mainScriptLoadAttempted");const o=await n();s.default.info("Aura script loaded"),_("parkour.mainScriptLoadSucceeded"),s.default.info("Initializing Aura"),await o.init({context:e,config:t,modes:w}),s.default.info("Aura initialized")}function _(t,r){if(!e.parent.uv)return;const n={type:t};r&&(n.value=JSON.stringify(r)),e.parent.uv.emit("qubit.interaction",n)}};var n=r(4),o=c(r(10)),i=c(r(20)),a=c(r(26)),u=c(r(6)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(0));function c(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=async function({jolt:e,config:t,modes:r,parent:f}){const l=t.url||f.location.href;if(c.default.info("Waiting for body"),await new Promise(e=>{if(["interactive","complete"].includes(f.document.readyState))return e();f.document.addEventListener("DOMContentLoaded",()=>e())}),c.default.info("Body ready"),r.demoMode)return!0;if(c.default.info("Waiting for view event"),await(0,n.default)(e,t.aura),c.default.info("View event found"),document.getElementById(s.IFRAME_ID))return c.default.info("Aura is already loaded, not activating"),!1;if(!(0,o.default)(t,l))return c.default.info("Aura doesn't support this browser"),!1;const p=await e.getBrowserState();return(0,a.default)(t.aura,p)?((0,i.default)(t,p)||c.default.info("Aura doesn't support this platform"),r.previewMode?(c.default.info("Preview mode detected, skipping activation"),!0):!(0,u.default)(t.aura,l)||(c.default.info("URL excluded, not activating"),!1)):(c.default.info("Aura doesn't support this device"),!1)};var n=f(r(11)),o=f(r(12)),i=f(r(16)),a=f(r(18)),u=f(r(19)),s=r(2),c=f(r(0));function f(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const{minViewNumber:r=1,price:n={}}=t;return new Promise(function(t,i){e.onEnrichment(/^([^.]+\.)?[a-z]{2}View$/,function(e){o.default.info("Recieved view event");const{type:i,context:a,language:u,currency:s}=e;if(/^(basket|checkout|transaction)$/i.test(i))return void o.default.info(`Page type:${i} not supported by Aura, Aura won't activate`);if(a.viewNumber<r)return void o.default.info(`Min view number ${r} not met (${a.viewNumber} recorded), Aura won't activate`);if(!u)return void o.default.info("No language found in view event, Aura won't activate");if(!s)return void o.default.info("No language found in view event, Aura won't activate");if(!n.availableLocales.length)return void o.default.info("No locales available, check recs is switched on");const c=[u,s].join("-").toLowerCase(),f=n.availableLocales.map(e=>e.toLowerCase());f.includes(c)?t(e):o.default.info(`Current locale (${c}) not available from ${f.join(", ")}`)}).replay()})};var n,o=(n=r(0))&&n.__esModule?n:{default:n}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=niceBrowser;var _cookieman=_interopRequireDefault(__webpack_require__(1));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}class Modernizr{constructor(){this.tests=[]}addTest(e,t,r){this.tests.push({name:e,fn:t})}run(){try{for(var e=0;e<this.tests.length;e++)if(!this.tests[e].fn())return!1}catch(e){return!1}return!0}}function niceBrowser(){const modernizr=new Modernizr;return modernizr.addTest("cookies",function(){_cookieman.default.set("cookietest","1");var e="1"===_cookieman.default.val("cookietest");return _cookieman.default.clear("cookietest"),e}),modernizr.addTest("cors",function(){return"XMLHttpRequest"in window&&"withCredentials"in new window.XMLHttpRequest}),modernizr.addTest("localstorage",function(){var e="modernizr";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}),modernizr.addTest("flexbox",function(){return void 0!==document.createElement("modernizr").style.flexBasis}),modernizr.addTest("facebookBrowser",function(){return!/FBA[N,V]/.test(window.navigator.userAgent)}),modernizr.addTest("Object.assign",function(){var e={z:1,n:3};return Object.assign(e,{z:2,y:0}),2===e.z&&3===e.n}),modernizr.addTest("async await",function(){return Boolean(eval("(async () => await true)()").then)}),modernizr.addTest("grid",function(){return window.CSS.supports("display","grid")}),modernizr.run()}},function(e,t,r){"use strict";e.exports=function(e){for(var t,r=[],n=e.split("."),o=0;o<n.length-1;o++)t=n.slice(o,n.length).join("."),r.push(t,"."+t);return r.push(null),r}},function(e,t,r){"use strict";e.exports=function(e){e=e.replace(/\/$/,"").split("/");for(var t=[],r=0;r<e.length;r++)t.push(e.slice(0,r+1).join("/")||"/");return t}},function(e,t,r){"use strict";e.exports="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s+|\s+$)/gi,"")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const r=o.default.get(t,"ua.deviceType");if("mobile"!==r&&"tablet"!==r)return!0;let n=o.default.get(t,"ua.osName");const a=o.default.get(t,"ua.osVersion");if(!n||!a)return!1;switch(n=n.toLowerCase()){case"ios":return!(0,i.lt)(a,"11");case"android":return!(0,i.lt)(a,"4.4.4");default:return!1}};var n,o=(n=r(5))&&n.__esModule?n:{default:n},i=r(17)},function(e,t,r){"use strict";function n(e){return e=e.replace(/[^\d.]/gi,"").split("."),{major:Number(e[0]||0),minor:Number(e[1]||0),patch:Number(e[2]||0)}}function o(e,t){return e=n(e),t=n(t),e.major!==t.major?e.major>t.major?1:-1:e.minor!==t.minor?e.minor>t.minor?1:-1:e.patch!==t.patch?e.patch>t.patch?1:-1:0}e.exports={eq:function(e,t){return 0===o(t,e)},gt:function(e,t){return o(e,t)>0},lt:function(e,t){return o(e,t)<0},compare:o,parse:n,toString:function(e){return[e.major,e.minor,e.patch].join(".")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const r=e.devices||n.DEFAULT_DEVICES;return t&&t.ua&&r.includes(t.ua.deviceType)};var n=r(2)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const{excludeMatch:r=[],excludeContains:n=[]}=e;return r.some(e=>new RegExp(e).test(t))||n.some(e=>t.includes(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({url:e,cookieDomain:t,demoMode:r,previewMode:o,auraVariationId:i,parent:u}){const s=a({},function(){const e=n.default.val("saved_aura_opts");return e?JSON.parse(e):{}}(),f(e));Object.keys(s).length&&(function(e,{domain:t}){n.default.set("saved_aura_opts",JSON.stringify(e),{path:"/",domain:t,expires:new Date((new Date).getTime()+c)})}(s,{domain:t}),r||function({auraVariationId:e,domain:t,previewMode:r,parent:o}){const i=function(){const e=n.default.val("qb_opts");return JSON.parse(decodeURIComponent(e))||{}}(),a=(i.experiences||[]).includes(e),u=i.preview;e&&!a&&(i.experiences=(i.experiences||[]).concat(e)),u||(i.preview=!0),(!u||e&&!a)&&(function(e,{domain:t}){n.default.set("qb_opts",encodeURIComponent(JSON.stringify(e)),{path:"/",domain:t,expires:new Date((new Date).getTime()+c)})}(i,{domain:t}),r||o.location.reload())}({auraVariationId:i,domain:t,previewMode:o,parent:u}));const l=s.flags||[];return{demoMode:r,previewMode:l.includes("preview"),logMode:l.includes("log")||l.includes("preview"),codeEnv:s.codeEnv,branch:s.branch,abTests:s.abs,apiEndpoint:{production:{api:"https://aura-api.qutics.com/graphql"},staging:{api:"https://aura-api-staging.qutics.com/graphql"},development:{api:"https://aura-api.local.qubit/graphql"},test:{api:"http://localhost:9877/graphql"}}[s.apiEnv||"production"].api,debug:{apiDelay:s.apiDelay,apiError:l.includes("apiError"),scenario:s.scenario&&Number(s.scenario)}}},t.getUrlOptions=f;var n=i(r(1)),o=i(r(21));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){u(e,t,r[t])})}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s=[{key:"branch",query:"aura_branch"},{key:"apiEnv",query:"aura_api_env"},{key:"apiDelay",query:"aura_delay"},{key:"codeEnv",query:"aura_code_env"},{key:"scenario",query:"aura_scenario"},{key:"flags",query:"aura",decode:e=>e.split(",")},{key:"abs",query:"aura_ab",decode:e=>(Array.isArray(e)?e:[e]).map(e=>{const[t,r]=e.split("@");return{name:t,variation:r}})}],c=12e5;function f(e){return Object.entries(function(e){const t=/\?/.test(e)?"&":"?";return o.default.parse(e.replace("#",t)).query||{}}(e)).reduce((e,[t,r])=>{const n=s.find(({query:e})=>e===t);return r&&n?a({[n.key]:n.decode?n.decode(r):r},e):e},{})}},function(e,t,r){"use strict";var n=r(7),o=r(25);e.exports={parse:function(e){var t=n.parse(e);return t.query=t.search&&o.parse(t.search),t},format:function(e){return e.search=e.query&&o.stringify(e.query),n.format(e)}}},function(e,t,r){"use strict";var n=r(23),o=r(3);e.exports=function(e){var t={};t.href=e;for(var r=e.match(n),i=o.length;i--;)t[o[i]]=r[i+1];return t.host=t.hostname&&t.port?t.hostname+":"+t.port:t.hostname,t.query=t.search&&t.search.substr(1),t.path=t.search?t.pathname?t.pathname+t.search:t.search:t.pathname,t}},function(e,t,r){"use strict";e.exports=/([^:/?#]+:)?(?:(?:\/\/)(?:([^/?#]*:[^@/]+)@)?([^/:?#]+)(?:(?::)(\d+))?)?(\/?[^?#]*)?(\?[^#]*)?(#[^\s]*)?/},function(e,t,r){"use strict";var n=r(3);e.exports=function(e){for(var t="",r=n.length;r--;){var o=n[r],i=e[o];i&&("protocol"===o?i+="//":"auth"===o?i+="@":"port"===o&&(i=":"+i),t=i+t)}return e.href&&0===e.href.indexOf("//")&&(t="//"+t),t}},function(e,t,r){"use strict";function n(e,t){return e.hasOwnProperty(t)}function o(e){return"[object Array]"===Object.prototype.toString.call(e)}e.exports={parse:function(e){for(var t={},r=(e||"").replace(/\?/,"").split(/&amp;|&/),i=r.length,a=0;a<i;a++)if(r[a]){var u=r[a].indexOf("=");-1===u&&(u=r[a].length);var s=r[a].substring(0,u),c=r[a].substring(u+1);n(t,s)?(o(t[s])||(t[s]=[t[s]]),t[s].push(c)):t[s]=c}return t},stringify:function(e){var t="";for(var r in e)if(n(e,r)){var i=e[r];if(o(i))for(var a=i.length,u=0;u<a;u++)t+="&"+r+"="+i[u];else t+="&"+r+"="+i}return t.replace("&","?")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=document.createElement("script");t.async=!0,t.crossOrigin="anonymous",t.src=e,document.body.appendChild(t)}}]);
//# sourceMappingURL=aura.js.map